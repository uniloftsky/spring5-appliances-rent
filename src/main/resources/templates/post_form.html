<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8">
    <link rel="preconnect" href="https://fonts.gstatic.com">
    <link href="https://fonts.googleapis.com/css2?family=Montserrat:wght@100;200;300;400;500;600;700;800;900&display=swap"
          rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/semantic-ui/2.2.13/semantic.min.css">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <link rel="stylesheet" th:href="@{/styles/style.css}" type="text/css">
    <title>Оренда побутової техніки - Авторизація</title>
</head>
<body>
<th:block th:insert="~{fragments/header-fragment}"></th:block>
<main style="z-index: 0; position: relative;">
    <section class="page-title-section">
        <div class="wrap">
            <p class="page-title"><b>Додавання</b> оголошення</p>
            <div class="ui breadcrumb">
                <a class="section" href="/index">Головна</a>
                <i class="right angle icon divider"></i>
                <a class="section" href="/postOffer">Додавання оголошення</a>
            </div>
        </div>
    </section>

    <section class="post-offer-section">
        <div class="wrap">
            <form th:action="@{/postOffer}" method="post" th:object="${offer}" enctype="multipart/form-data">
                <div class="input-block">
                    <p class="input-block-title"><b>Інформація</b> про оголошення</p>
                    <div class="input-block-inner" style="width: 100%; margin-bottom: 1em;">
                        <label>Назва: <span class="required-color">*</span></label>
                        <div class="ui input" style="width: 100%;">
                            <input type="text" placeholder="Назва" th:field="*{name}">
                        </div>
                    </div>
                    <div class="input-block-in">
                        <div class="input-block-inner">
                            <label>Тип: <span class="required-color">*</span></label>
                            <select id="type_select" class="ui dropdown">
                                <option value="">Тип</option>
                                <option value="1" th:each="type : ${typeList}" th:text="${type.typeName}" th:class="${type.typeName}" th:value="${type.typeName}">Male</option>
                            </select>
                        </div>
                        <div class="input-block-inner">
                            <label>Категорія: <span class="required-color">*</span></label>
                            <select id="category_select" class="ui corner labeled dropdown" th:field="*{category}">
                                <option value="">Категорія</option>
                                <option th:each="category : ${categoryList}" th:text="${category.categoryName}" th:class="${category.type.typeName}" th:value="${category.id}">Male</option>
                            </select>
                        </div>
                        <div class="input-block-inner">
                            <label>Розташування: <span class="required-color">*</span></label>
                            <div class="ui input">
                                <input type="text" placeholder="Розташування" th:field="*{location}">
                            </div>
                        </div>
                    </div>
                </div>
                <div class="input-block">
                    <p class="input-block-title"><b>Опис</b> оголошення</p>
                    <div class="input-block-in">
                        <div class="input-block-inner full-width">
                            <div class="ui form">
                                <label>Опис: <span class="required-color">*</span></label>
                                <div class="field">
                                    <textarea style="resize: none" th:field="*{description}"></textarea>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
                <div class="input-block">
                    <p class="input-block-title"><b>Ціна</b> оголошення</p>
                    <div class="input-block-in">
                        <div class="input-block-inner">
                            <label>Ціна: <span class="required-color">*</span></label>
                            <div class="ui input">
                                <input type="number" placeholder="Ціна" th:field="*{price}">
                            </div>
                        </div>
                    </div>
                </div>
                <div class="input-block">
                    <p class="input-block-title"><b>Зображення</b> оголошення</p>
                    <div class="input-block-in">
                        <div class="input-block-inner">
                            <label>Зображення: <span class="required-color">*</span></label>
                            <div class="ui action input">
                                <input id="imageText" type="text" placeholder="Фото" readonly>
                                <input id="imageUpload" type="file" name="itemImage">
                                <div id="imageButton" class="ui icon button">
                                    <i class="attach icon"></i>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
                <div class="input-block-buttons">
                    <button type="submit" class="ui green button">Підтвердити</button>
                    <button class="ui primary button">Попередній перегляд</button>
                </div>
            </form>
        </div>
    </section>

</main>
<th:block th:insert="~{fragments/footer-fragment}"></th:block>
<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.2.1/jquery.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/semantic-ui/2.2.13/semantic.min.js"></script>
<script src="https://cdn.rawgit.com/mdehoog/Semantic-UI/6e6d051d47b598ebab05857545f242caf2b4b48c/dist/semantic.min.js"></script>
<script type="text/javascript">
    $("#imageText").click(function () {
        $(this).parent().find("#imageUpload").click();
    });

    $("#imageButton").click(function () {
        $(this).parent().find("#imageUpload").click();
    });

    $('input:file', '.ui.action.input')
        .on('change', function (e) {
            var name = e.target.files[0].name;
            $('input:text', $(e.target).parent()).val(name);
        });

    var calendarOpts = {
        type: 'date',
        formatter: {
            date: function (date, settings) {
                if (!date) return '';
                var day = date.getDate() + '';
                if (day.length < 2) {
                    day = '0' + day;
                }
                var month = (date.getMonth() + 1) + '';
                if (month.length < 2) {
                    month = '0' + month;
                }
                var year = date.getFullYear();
                return year + '-' + month + '-' + day;
            }
        }
    };
    $('#datefield').calendar(calendarOpts);
    $(document).ready(function () {
        $('.ui.dropdown').dropdown();
        $('#header-dropdown').dropdown({
            action: 'select'
        });
    });
</script>
<script th:src="@{/js/chainedselect.js}" type="text/javascript"></script>
</body>
</html>